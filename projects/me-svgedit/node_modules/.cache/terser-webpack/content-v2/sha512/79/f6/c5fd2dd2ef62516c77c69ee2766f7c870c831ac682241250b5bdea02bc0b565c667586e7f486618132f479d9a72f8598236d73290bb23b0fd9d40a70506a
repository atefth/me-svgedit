{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{vSeb:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"default\",function(){return l});var n=a(\"20ZU\");const o=\"shapes\",s=function(){var e=Object(n.a)(function*(e){let t;const a=e.configObj.pref(\"lang\");try{t=yield function(e){switch(e){case\"./locale/en.js\":return Promise.resolve().then(function(){return r});case\"./locale/fr.js\":return Promise.resolve().then(function(){return i});case\"./locale/zh-CN.js\":return Promise.resolve().then(function(){return c});default:return new Promise(function(t,a){(\"function\"==typeof queueMicrotask?queueMicrotask:setTimeout)(a.bind(null,new Error(\"Unknown variable dynamic import: \"+e)))})}}(\"./locale/\".concat(a,\".js\"))}catch(e){console.warn(\"Missing translation (\".concat(a,\") for \").concat(o,\" - using 'en'\")),t=yield Promise.resolve().then(function(){return r})}e.i18next.addResourceBundle(a,o,t.default)});return function(t){return e.apply(this,arguments)}}();var l={name:o,init(){var e=this;return Object(n.a)(function*(){const t=e,a=t.svgCanvas,{$id:n}=a,l=a.getSvgRoot();let r={};yield s(t);const i=\"shapelib\",c={};let u,m,h;return{callback(){if(null===n(\"tool_shapelib\")){const e='\\n          <se-explorerbutton id=\"tool_shapelib\" title=\"'.concat(t.i18next.t(\"\".concat(o,\":buttons.0.title\")),'\" lib=\"./extensions/ext-shapes/shapelib/\"\\n          src=\"shapelib.svg\"></se-explorerbutton>\\n          ');a.insertChildAtIndex(n(\"tools_left\"),e,9),n(\"tool_shapelib\").addEventListener(\"click\",()=>{this.leftPanel.updateLeftPanel(\"tool_shapelib\")&&a.setMode(i)})}},mouseDown(e){if(a.getMode()!==i)return;const t=document.getElementById(\"tool_shapelib\").dataset.draw;m=e.start_x;const n=m;h=e.start_y;const o=h,s=a.getStyle();return c.x=e.event.clientX,c.y=e.event.clientY,u=a.addSVGElementsFromJson({element:\"path\",curStyles:!0,attr:{d:t,id:a.getNextId(),opacity:s.opacity/2,style:\"pointer-events:none\"}}),u.setAttribute(\"transform\",\"translate(\"+n+\",\"+o+\") scale(0.005) translate(\"+-n+\",\"+-o+\")\"),a.recalculateDimensions(u),r=u.getBBox(),{started:!0}},mouseMove(e){if(a.getMode()!==i)return;const t=a.getZoom(),n=e.event,o=e.mouse_x/t,s=e.mouse_y/t,c=u.transform.baseVal,b=u.getBBox(),d=b.x,p=b.y,f=(Math.min(m,o),Math.min(h,s),Math.abs(o-m)),g=Math.abs(s-h);let _=f/r.width||1,y=g/r.height||1,w=0;o<m&&(w=r.width);let v=0;s<h&&(v=r.height);const j=l.createSVGTransform(),M=l.createSVGTransform(),x=l.createSVGTransform();if(j.setTranslate(-(d+w),-(p+v)),!n.shiftKey){const e=Math.min(Math.abs(_),Math.abs(y));_=e*(_<0?-1:1),y=e*(y<0?-1:1)}M.setScale(_,y),x.setTranslate(d+w,p+v),c.appendItem(x),c.appendItem(M),c.appendItem(j),a.recalculateDimensions(u),r=u.getBBox()},mouseUp(e){if(a.getMode()===i)return{keep:e.event.clientX!==c.x&&e.event.clientY!==c.y,element:u,started:!1}}}})()}},r=Object.freeze({__proto__:null,default:{loading:\"Loading...\",categories:{basic:\"Basic\",object:\"Objects\",symbol:\"Symbols\",arrow:\"Arrows\",flowchart:\"Flowchart\",animal:\"Animals\",game:\"Cards & Chess\",dialog_balloon:\"Dialog balloons\",electronics:\"Electronics\",math:\"Mathematical\",music:\"Music\",misc:\"Miscellaneous\",raphael_1:\"raphaeljs.com set 1\",raphael_2:\"raphaeljs.com set 2\"},buttons:[{title:\"Shape library\"}]}}),i=Object.freeze({__proto__:null,default:{loading:\"Chargement...\",categories:{basic:\"Basique\",object:\"Objets\",symbol:\"Symboles\",arrow:\"Fl\\xe8ches\",flowchart:\"Flowchart\",animal:\"Animaux\",game:\"Cartes & Echecs\",dialog_balloon:\"Dialog balloons\",electronics:\"Electronique\",math:\"Mathematiques\",music:\"Musique\",misc:\"Divers\",raphael_1:\"raphaeljs.com set 1\",raphael_2:\"raphaeljs.com set 2\"},buttons:[{title:\"Biblioth\\xe8que d'images\"}]}}),c=Object.freeze({__proto__:null,default:{loading:\"\\u6b63\\u5728\\u52a0\\u8f7d...\",categories:{basic:\"\\u57fa\\u672c\",object:\"\\u5bf9\\u8c61\",symbol:\"\\u7b26\\u53f7\",arrow:\"\\u7bad\\u5934\",flowchart:\"\\u5de5\\u4f5c\\u6d41\",animal:\"\\u52a8\\u7269\",game:\"\\u68cb\\u724c\",dialog_balloon:\"\\u4f1a\\u8bdd\\u6846\",electronics:\"\\u7535\\u5b50\",math:\"\\u6570\\u5b66\",music:\"\\u97f3\\u4e50\",misc:\"\\u5176\\u4ed6\",raphael_1:\"raphaeljs.com \\u96c6\\u5408 1\",raphael_2:\"raphaeljs.com \\u96c6\\u5408 2\"},buttons:[{title:\"\\u56fe\\u5143\\u5e93\"}]}})}}]);","name":"13.93e0819fe10211b58243.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[13],{\n\n/***/ \"vSeb\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return t; });\n/* harmony import */ var C_Projects_lib_workspace_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"20ZU\");\n\n\n/**\n * @file ext-shapes.js\n *\n * @license MIT\n *\n * @copyright 2010 Christian Tzurcanu, 2010 Alexis Deveria\n *\n */\nconst e = \"shapes\",\n      loadExtensionTranslation = /*#__PURE__*/function () {\n  var _ref = Object(C_Projects_lib_workspace_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(function* (t) {\n    let n;\n    const l = t.configObj.pref(\"lang\");\n\n    try {\n      n = yield function __variableDynamicImportRuntime0__(e) {\n        switch (e) {\n          case \"./locale/en.js\":\n            return Promise.resolve().then(function () {\n              return a;\n            });\n\n          case \"./locale/fr.js\":\n            return Promise.resolve().then(function () {\n              return o;\n            });\n\n          case \"./locale/zh-CN.js\":\n            return Promise.resolve().then(function () {\n              return s;\n            });\n\n          default:\n            return new Promise(function (t, a) {\n              (\"function\" == typeof queueMicrotask ? queueMicrotask : setTimeout)(a.bind(null, new Error(\"Unknown variable dynamic import: \" + e)));\n            });\n        }\n      }(\"./locale/\".concat(l, \".js\"));\n    } catch (t) {\n      console.warn(\"Missing translation (\".concat(l, \") for \").concat(e, \" - using 'en'\")), n = yield Promise.resolve().then(function () {\n        return a;\n      });\n    }\n\n    t.i18next.addResourceBundle(l, e, n.default);\n  });\n\n  return function loadExtensionTranslation(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar t = {\n  name: e,\n\n  init() {\n    var _this = this;\n\n    return Object(C_Projects_lib_workspace_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(function* () {\n      const t = _this,\n            a = t.svgCanvas,\n            {\n        $id: o\n      } = a,\n            s = a.getSvgRoot();\n      let n = {};\n      yield loadExtensionTranslation(t);\n      const l = \"shapelib\",\n            r = {};\n      let i, c, u;\n      return {\n        callback() {\n          if (null === o(\"tool_shapelib\")) {\n            const s = '\\n          <se-explorerbutton id=\"tool_shapelib\" title=\"'.concat(t.i18next.t(\"\".concat(e, \":buttons.0.title\")), '\" lib=\"./extensions/ext-shapes/shapelib/\"\\n          src=\"shapelib.svg\"></se-explorerbutton>\\n          ');\n            a.insertChildAtIndex(o(\"tools_left\"), s, 9), o(\"tool_shapelib\").addEventListener(\"click\", () => {\n              this.leftPanel.updateLeftPanel(\"tool_shapelib\") && a.setMode(l);\n            });\n          }\n        },\n\n        mouseDown(e) {\n          if (a.getMode() !== l) return;\n          const t = document.getElementById(\"tool_shapelib\").dataset.draw;\n          c = e.start_x;\n          const o = c;\n          u = e.start_y;\n          const s = u,\n                m = a.getStyle();\n          return r.x = e.event.clientX, r.y = e.event.clientY, i = a.addSVGElementsFromJson({\n            element: \"path\",\n            curStyles: !0,\n            attr: {\n              d: t,\n              id: a.getNextId(),\n              opacity: m.opacity / 2,\n              style: \"pointer-events:none\"\n            }\n          }), i.setAttribute(\"transform\", \"translate(\" + o + \",\" + s + \") scale(0.005) translate(\" + -o + \",\" + -s + \")\"), a.recalculateDimensions(i), n = i.getBBox(), {\n            started: !0\n          };\n        },\n\n        mouseMove(e) {\n          if (a.getMode() !== l) return;\n          const t = a.getZoom(),\n                o = e.event,\n                r = e.mouse_x / t,\n                m = e.mouse_y / t,\n                h = i.transform.baseVal,\n                b = i.getBBox(),\n                d = b.x,\n                p = b.y,\n                f = (Math.min(c, r), Math.min(u, m), Math.abs(r - c)),\n                g = Math.abs(m - u);\n\n          let _ = f / n.width || 1,\n              y = g / n.height || 1,\n              w = 0;\n\n          r < c && (w = n.width);\n          let v = 0;\n          m < u && (v = n.height);\n          const M = s.createSVGTransform(),\n                j = s.createSVGTransform(),\n                x = s.createSVGTransform();\n\n          if (M.setTranslate(-(d + w), -(p + v)), !o.shiftKey) {\n            const e = Math.min(Math.abs(_), Math.abs(y));\n            _ = e * (_ < 0 ? -1 : 1), y = e * (y < 0 ? -1 : 1);\n          }\n\n          j.setScale(_, y), x.setTranslate(d + w, p + v), h.appendItem(x), h.appendItem(j), h.appendItem(M), a.recalculateDimensions(i), n = i.getBBox();\n        },\n\n        mouseUp(e) {\n          if (a.getMode() !== l) return;\n          return {\n            keep: e.event.clientX !== r.x && e.event.clientY !== r.y,\n            element: i,\n            started: !1\n          };\n        }\n\n      };\n    })();\n  }\n\n},\n    a = Object.freeze({\n  __proto__: null,\n  default: {\n    loading: \"Loading...\",\n    categories: {\n      basic: \"Basic\",\n      object: \"Objects\",\n      symbol: \"Symbols\",\n      arrow: \"Arrows\",\n      flowchart: \"Flowchart\",\n      animal: \"Animals\",\n      game: \"Cards & Chess\",\n      dialog_balloon: \"Dialog balloons\",\n      electronics: \"Electronics\",\n      math: \"Mathematical\",\n      music: \"Music\",\n      misc: \"Miscellaneous\",\n      raphael_1: \"raphaeljs.com set 1\",\n      raphael_2: \"raphaeljs.com set 2\"\n    },\n    buttons: [{\n      title: \"Shape library\"\n    }]\n  }\n}),\n    o = Object.freeze({\n  __proto__: null,\n  default: {\n    loading: \"Chargement...\",\n    categories: {\n      basic: \"Basique\",\n      object: \"Objets\",\n      symbol: \"Symboles\",\n      arrow: \"Flèches\",\n      flowchart: \"Flowchart\",\n      animal: \"Animaux\",\n      game: \"Cartes & Echecs\",\n      dialog_balloon: \"Dialog balloons\",\n      electronics: \"Electronique\",\n      math: \"Mathematiques\",\n      music: \"Musique\",\n      misc: \"Divers\",\n      raphael_1: \"raphaeljs.com set 1\",\n      raphael_2: \"raphaeljs.com set 2\"\n    },\n    buttons: [{\n      title: \"Bibliothèque d'images\"\n    }]\n  }\n}),\n    s = Object.freeze({\n  __proto__: null,\n  default: {\n    loading: \"正在加载...\",\n    categories: {\n      basic: \"基本\",\n      object: \"对象\",\n      symbol: \"符号\",\n      arrow: \"箭头\",\n      flowchart: \"工作流\",\n      animal: \"动物\",\n      game: \"棋牌\",\n      dialog_balloon: \"会话框\",\n      electronics: \"电子\",\n      math: \"数学\",\n      music: \"音乐\",\n      misc: \"其他\",\n      raphael_1: \"raphaeljs.com 集合 1\",\n      raphael_2: \"raphaeljs.com 集合 2\"\n    },\n    buttons: [{\n      title: \"图元库\"\n    }]\n  }\n});\n //# sourceMappingURL=ext-shapes.js.map\n\n/***/ })\n\n}]);","inputSourceMap":null}